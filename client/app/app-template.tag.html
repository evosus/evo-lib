<app-template>
	<div class="f-col ai-center jc-center fg-purple">
		<div style="width:10em;">
			<ui-input label="Test Input" css="ui-active" disabled="true">
		</div>
		<div class="pad-dot-5"></div>
		<div style="width:10em;">
			<ui-select ref="ui_select" css="ui-active" options="{ testOptions }" selection="Other" />
		</div>
		<div class="pad-dot-5"></div>
		<div class="f-row f-wrap">
			<div class="pad-dot-5">
				<ui-button label="Toast 1" css="ui-active" onclick="{ testToast1 }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Toast 2" css="ui-active" onclick="{ testToast2 }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Banner 1" css="ui-active" onclick="{ testBanner1 }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Banner 2" css="ui-active" onclick="{ testBanner2 }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Nav Menu" css="ui-active" onclick="{ testNavMenu }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Set Flag" css="ui-active" onclick="{ testFlag }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Modal 1" css="ui-active" onclick="{ testModal1 }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Modal 2" css="ui-active" onclick="{ testModal2 }" />
			</div>
			<div class="pad-dot-5">
				<ui-button label="Get Select" css="ui-active" onclick="{ testSelect }" />
			</div>
		</div>
	</div>
	<script>
		import GN from 'client/system/tags/global-nav-ctrl.js';
		this.mixin(IO.default,GN);
		const self = this;
		this.testSelect = function() {
			self.refs.ui_select.getSelected();
		};
		this.testOptions = [
			{"Active":true,"label":"Commercial","ID":"-KwYPG1qQvOQ9ceEtzOi","IsDefault":false,"SortOrder":1},
			{"Active":true,"label":"Residential","ID":"-KwYPaFklZeQkFzKU3HX","IsDefault":false,"SortOrder":2},
			{"Active":true,"label":"Other","ID":"-KwYPu_3MAvN1zqqSYZC","IsDefault":false,"SortOrder":3}
		]
		this.testModal2 = () => {
			Promise.all([
				import('client/system/tags/ui-test.tag.html')
			]).then( (tmpl) => {
				GN.openModal({
					isOpen: true,
					template: 'ui-test',
					templateOpts: {
						css: 'ui-purple'
					}
				});
			});				
		}
		this.testModal1 = () => {
			Promise.all([
				import('client/system/tags/ui-test.tag.html')
			]).then( (tmpl) => {
				GN.openModal({
					isOpen: true,
					template: 'ui-test',
					templateOpts: {
						css: 'ui-teal'
					}
				});
			});				
		}
		this.testFlag = () => {
			GN.setFlag({
				type:'toast',
				isOpen: true,
				message: 'Toast from flag!',
				css: 'ui-purple rounded',
				timeout:3000
			});
		}
		this.testNavMenu = () => {
			GN.openNavMenu();
		}
		this.testBanner = () => {
			opts.ui_banner = {
				isOpen: true,
				mdicon: 'mdi mdi-alert',
				message: 'Banner popped!',
				css: 'ui-active'
			}
		}
		this.testToast1 = () => {
			GN.openToast({
				isOpen: true,
				message: '1 Second Toast Popped!',
				css: 'ui-red-dk rounded',
				timeout:1000
			});
		}
		this.testToast2 = () => {
			GN.openToast({
				isOpen: true,
				message: '3 Second Toast Popped!',
				css: 'ui-primary rounded',
				timeout:3000
			});
		}
		this.testBanner1 = () => {
			GN.openBanner({
				isOpen: true,
				mdicon: 'mdi mdi-check',
				message: 'Test Banner One!',
				css: 'ui-valid'
			});
		}
		this.testBanner2 = () => {
			GN.openBanner({
				isOpen: true,
				mdicon: 'mdi mdi-block-helper',
				message: 'Test Banner One!',
				css: 'ui-invalid'
			});
		}
		this.on('route',() => {
			console.info("ROUTE CHANGED");
		});
	</script>
</app-template>
