import IO from '../IO.js';
<!--
UI BUTTON BUSY
!-->
<ui-button-busy>
	<button class="ui-button-busy rounded { opts.css }">
		<div class="wrap">
			<div class="top f-row ai-center">
				<span>{ opts.label }</span>
			</div>
			<div class="bot { busy: opts.isBusy }"></div>
		</div>
	</button>
	<script>
		this.mixin(IO);
		let self = this;
		this.setBusy = cfg => {
			console.info("SET BUSY  OBJ");
			console.dir(cfg);
			if(cfg.label) { self.opts.label = cfg.label; }
			if(cfg.css) { self.opts.css = cfg.css; }
			if(cfg.busy) { self.opts.isBusy = cfg.busy; }
			this.update();
		}
	</script>
	<style>
		button,
		button:focus {
			outline:none;
		}
		.ui-button-busy {
			height:2.5em;
			margin:0;
			padding:0;
			border:none;
			cursor:pointer;
			font-weight:700;
			transition:.25s ease-in-out all;
			overflow:hidden;
		}
		.ui-button-busy:hover { box-shadow:0 5px 10px rgba(0,0,0,0.25); }
		.wrap {
			position:relative;
			width:100%;
			height:100%;
			overflow:hidden;
		}
		.top {
			position:relative;
			padding:0em .75em;
			z-index:20;
			width:100%;
			height:100%;
		}
		.top > span {
			text-transform:uppercase;
			letter-spacing:1px;
		}
		.bot {
			position:absolute;
			top:0;
			left:-30em;
			z-index:10;
			height:100%;
		}
		.bot.busy {
			width:40em;
			background: repeating-linear-gradient(
				45deg,
				#444444,
				#444444 10px,
				#666666 10px,
				#666666 20px
			);
			-webkit-animation: left 10s linear infinite;
			animation: left 10s linear infinite;
			box-shadow:inset 0 0px 10px rgba(0,0,0,0.5);
		}
		@keyframes left{
			from {left: -30em;} 
			to{left:0em;} 
		}
		@-moz-keyframes left{
			from {left: -30em;} 
			to{left:0em;} 
		}
		@-webkit-keyframes left{
			from {left: -30em;} 
			to{left:0em;} 
		}
	</style>
</ui-button-busy>
