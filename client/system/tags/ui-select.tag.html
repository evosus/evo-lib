<ui-select>
	<div class="ui-select { opts.css }">
		<div if="{ opts.label }" class="label"><span>{ opts.label }</span></div>
		<div class="f-row ai-center">
			<select ref="htmlselect" name="{ opts.name }" value="{ selected }">
				<option class="{ opts.menucss }" each="{ item in opts.options }" selected="{ item.label == opts.selection }">{ item.label }</option>
			</select>
			<i class="mdi mdi-menu-down"></i>
		</div>
		<div class="fill"></div>
		<div if="{ msg }" class="message fg-failure"><span class="{ fg-valid:isValid,fg-invalid:isInvalid }">{ msg }</span></div>
	</div>
	<script>
		this.mixin(IO.default);
		this.getSelected = function() {
			let selectedOption = null;
			if(opts.options && opts.selection) {
				opts.options.forEach(function(OBJ) {
					if(OBJ.label == opts.selection) {
						selectedOption = OBJ;	
					}
				});
				return selectedOption;
			}
		};
	</script>
	<style>
		.label { padding:.25em 0em; }
		.label > span { font-size:0.9em;letter-spacing:0;transition:.2s linear all; }
		.ui-select { position:relative;background:none; }
		.ui-select select {
			cursor:pointer;
			padding:0;
			margin:0;
			border:0;
			width:100%;
			height:2em;
			background:none;
			font-size:100%;
			-webkit-appearance: none;
			-moz-appearance: none;
			text-overflow: '';
		}
		option {
			padding:.5em;
		}
		.fill {
			position:absolute;
			bottom:0;
			z-index:100;
			width:100%;
			height:2px;
			background:#888888;
		}
		.ui-select i {
			font-size:1.5em;
			position:absolute;
			z-index:100;
			right:0;
			pointer-events:none;
		}
		.message { height:1em; }
		.message > span { padding:.25em 0em;font-style:italic;font-size:0.875em; }
	</style>
</ui-select>
