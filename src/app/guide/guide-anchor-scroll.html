<guide-anchor-scroll>
	<ui-bar css="ui-primary-lt ui-bar-shadow">
		<ui-bar-left>
			<ui-btn-icon name="home_icon" mdicon="mdi mdi-anchor" css="ui-primary-lt" io="{ ui }" />
			<ui-bar-title value="Anchor Scroll" />
		</ui-bar-left>
	</ui-bar>
	<ui-scroll-2>
		<ui-container css="shadow-box ui-secondary-lt">
			<ui-layout-left>
				<ui-layout-left-sidebar css="ui-secondary-lt">
					<ul class="link-list"><li each="{ employeeSelectOptions }" onclick="{ parent.parent.parent.parent.parent.anchorClick }">{ label }</li></ul>
				</ui-layout-left-sidebar>
				<ui-layout-left-body>
					<ui-layout-title value="Anchor Scroll" />
					<virtual each="{ employeeSelectOptions }">
						<ui-layout-subtitle id="{ anchor }" value="{ label }" />
						<ui-layout-box css="f-row f-wrap shadow-box pad-1-2 ui-white">
							<div class="ui-cell" if="{ fields }" each="{ fields }">
								<ui-form-input name="{ name }" label="{ label }" placeholder="{ ' ' + placeholder }" io="{ obs }" />
							</div>
							<span if="{ !fields }" class="example-text">No fields to display</span>
						</ui-layout-box>
					</virtual>
				</ui-layout-left-body>
			</ui-layout-left>
		</ui-container>
	</ui-scroll-2>
	<style scoped> li { padding-top:.75em;cursor:pointer; } </style>
	<script>
		var self = this;
		employeeSelectOptions = [
			{
				label:"Profile",
				anchor:"profile",
				fields: [
					{ name:"first_name", label: "First Name", obs: ui, type: "text", placeholder: "First Name" },
					{ name:"last_name", label: "Last Name", obs: ui, type: "text", placeholder: "Last Name" },
					{ name:"display_as", label: "Display As", obs: ui, type: "text", placeholder: "Display As" },
					{ name:"work_email", label: "Work Email", obs: ui, type: "text", placeholder: "Work Email" },
					{ name:"work_phone", label: "Work Phone", obs: ui, type: "text", placeholder: "Work Phone" }
				]
			},
			{label:"Emergency", anchor:"emergency" },
			{label:"Security", anchor:"security"},
			{label:"Time Off", anchor:"timeoff"},
			{label:"Work Hours", anchor:"workhours"},
			{label:"Current Schedule", anchor:"currentschedule"},
			{label:"Notes", anchor:"notes"},
			{label:"Audit Log", anchor:"auditlog"}
		]
		anchorScroll(elementID) {
			var el = document.getElementById(elementID);
			el.scrollIntoView({block: "start", behavior: "smooth"});
		}
		anchorClick(e) {
			console.dir(e);
			if(e.item.anchor) {
				self.anchorScroll(e.item.anchor);
			}
		}
		ui.on('employee_select:change',function(e) {
			if(e.target._tag.anchor) {
				self.anchorScroll(e.target._tag.anchor);
			}
		});
	</script>
</guide-anchor-scroll>
