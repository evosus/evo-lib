<!--
UI LIST
!-->
<ui-list>
	<div class="ui-list { opts.css } hide-mq-3">
		<ui-list-subtitle css="ui-disabled" subtitle="{ opts.subtitle }" />
		<!-- COMPACT LIST !-->
		<div class="ui-list-item f-row" each="{ opts.items }" name="{ leftTop }" onclick="{ rowClick }">
			<div if="{ mdiavatar }" class="left f-col ai-center jc-center">
				<i class="{ mdiavatar } fg-inactive"></i>
			</div>
			<div class="center f-one f-row ai-center">
				<div class="left f-one f-col ai-start">
					<div class="top">{ leftTop }</div>
					<div class="bot">{ leftBot }</div>
				</div>
				<div if="{ rightTop || rightBot }" class="right f-one f-col ai-end">
					<div class="top">{ rightTop }</div>
					<div class="bot">{ rightBot }</div>
				</div>
			</div>
			<div if="{ mdicon }" class="right f-col ai-center jc-center">
				<i class="{ mdicon }"></i>
			</div>
		</div>
	</div>
	<!-- FULL SIZE LIST !-->
	<div class="ui-list { opts.css } hide block-mq-3">
		<table width="100%" cellpadding="0" cellspacing="0" border="0">
			<tr class="ui-list-item" each="{ opts.items }" name="{ leftTop }" onclick="{ rowClick }">
				<td>
					<div if="{ mdiavatar }" class="left f-col ai-center jc-center">
						<i class="{ mdiavatar } fg-inactive"></i>
					</div>
				</td>
				<td class="top f-one">{ leftTop }</td>
				<td class="top f-one">{ leftBot }</td>
				<td class="top f-one">{ rightTop }</td>
				<td class="top f-one">{ rightBot }</td>
				<td>
					<div if="{ mdicon }" class="right f-col ai-center jc-center">
						<i class="{ mdicon }"></i>
					</div>
				</td>
			</tr>
		</table>
	</div>
	<style>
		.ui-list-item { cursor:pointer;height:4em;padding:0em .5em;border-bottom:1px solid #e7e5e2;transition:.2s ease-in-out all; }
		.ui-list-item:hover { background:rgba(0,0,0,0.05); }
		.left { padding:0em .5em; }
		.left i { font-size:2.5em; }
		.center { padding:0em .5em 0em 0em; }
		.center > .left > .bot,
		.center > .right > .bot { font-size:0.8175em;margin:.25em 0em 0em 0em;opacity:0.6; }
		.ui-list-item > .right { padding:.5em; }
		.ui-list-item > .right i { font-size:1.25em; }
		td { vertical-align:middle; }
		td:first-child { width:72px; }
	</style>
	<script>
		var self = this;	
		self.rowClick = function(e) {
			console.dir(e);
		}
	</script>
</ui-list>
<!--
UI LIST SUBTITLE
!-->
<ui-list-subtitle>
	<div class="ui-list-subtitle f-row ai-center { opts.css }">
		<span if="{ opts.subtitle }" class="subtitle"><h2>{ opts.subtitle }</h2></span>
	</div>
	<style>
		.ui-list-subtitle { height:3em;padding:0em 1em; }
		.subtitle > h2 { font-size:.8175em;font-weight:700;margin:0;opacity:0.5; }
	</style>
</ui-list-subtitle>
<!--
UI INPUT
!-->
<ui-input>
	<div class="label { fg-valid:isValid,fg-invalid:isInvalid }"><span>{ opts.label }</span></div>
	<div class="stack f-row">
		<div class="field f-row ai-center">
			<input ref="field"
				name="{ opts.name }"
				value="{ opts.value }"
				class="f-one { fg-valid:isValid, fg-invalid:isInvalid }"
				type="{ opts.type || 'text' }"
				placeholder="{ opts.placeholder }"
				onfocus="{ setFocus }"
				onblur="{ setBlur }"
			/></input>
			<i if="{ isValid }" class="mdi mdi-check fg-valid"></i>
			<i if="{ isInvalid }" class="mdi mdi-block-helper fg-invalid"></i>
		</div>
		<div class="{ fill:1,underline:isFocused || refs.field.value.length, ui-active:!isValid && !isInvalid, ui-valid:isValid, ui-invalid:isInvalid }"></div>
	</div>
	<div class="message fg-failure"><span class="{ fg-valid:isValid,fg-invalid:isInvalid }">{ msg }</span></div>
	<style>
		i { margin:0em .5em; }
		.label { font-size:0.875em;padding:.25em 0em; }
		.message { height:1em; }
		.message > span { padding:.25em 0em;font-style:italic;font-size:0.875em; }
		.stack { position:relative;height:2em; }
		.field { position:absolute;z-index:200;height:2em;width:100%; }
		.fill { opacity:0.2;position:absolute;z-index:100;height:2em;width:100%;transition:.2s ease-in-out all;bottom:0; }
		.fill.underline { opacity:1;height:2px;; }
		input { height:100%;font-size:100%;border:none;background:transparent;padding:0 .5em; }
	</style>
	<script>
		var self = this;
		isFocused = null;isValid = null;isInvalid = null;isLocked = null;
		// --------------------------------------
		// EVENT HANDLERS
		// --------------------------------------
		self.setBlur = function(e) { IO.trigger(opts.name + ':blur',e); }
		self.setFocus = function(e) { IO.trigger(opts.name + ':focus',e); }
		self.setMessage = function(msg) { if(msg || self.msg) { self.msg = msg; } else { self.msg == null; } self.update(); }
		// --------------------------------------
		// EVENT LISTENERS
		// --------------------------------------
		IO.on(opts.name + ":blur",function() { self.isFocused = null;self.update(); });
		IO.on(opts.name + ":focus",function() { self.isFocused = true;self.update(); });
		IO.on(opts.name + ":valid",function(msg) { self.isValid = true;self.isInvalid = null;self.setMessage(msg); });
		IO.on(opts.name + ":invalid",function(msg) { self.isValid = false;self.isInvalid = true;self.setMessage(msg); });
		IO.on(opts.name + ":change",function(newValue) { self.refs.field.value = newValue;self.setMessage(); });
		// --------------------------------------
		// ON CLEAR
		// --------------------------------------
		IO.on(opts.ref + ":clear",function() {
			self.refs.field.value = '';
			self.isFocused = null;
			self.isValid = null;
			self.isInvalid = null;
			self.isTouched = null;
			self.refs.field.blur();
			self.setMessage();
		});
	</script>
</ui-input>
