<ui-pane-right id="pane-right" class="pane-right ui-teal">
	<ui-bar css="ui-teal">
		<ui-bar-left>
			<ui-btn-icon if="{ isPinned }" class="hide block-mq-3" name="pane_right_pin" mdicon="mdi mdi-pin-off" css="ui-teal" io="{ ui }" />
			<ui-btn-icon if="{ !isPinned }" class="hide block-mq-3" name="pane_right_pin" mdicon="mdi mdi-pin" css="ui-teal" io="{ ui }" />
			<div class="hide-mq-3 pad-dot-25"></div>
		</ui-bar-left>
		<ui-bar-tabs css="{ f-one }" name="pane_right_tabs" tabs="{ rightPaneTabs }" active="{ activeTab }" io="{ ui }" />
		<ui-bar-right>
			<ui-btn-icon name="pane_right_close" mdicon="mdi mdi-close" css="ui-teal" io="{ ui }" />
		</ui-bar-right>
	</ui-bar>

	<ui-bar if="{ !filtersOpen }" css="ui-teal ui-bar-shadow jc-between">
		<ui-bar-left>&nbsp;</ui-bar-left>
		<ui-bar-middle css="f-one jc-center">
			<ui-input-search name="pane_right_search_input" mdicon="mdi mdi-magnify" placeholder="Type to search..." io="{ ui }" />
		</ui-bar-middle>
		<ui-bar-right>
			<ui-btn-icon name="pane_right_search_options" mdicon="mdi mdi-dots-vertical" css="ui-teal" io="{ ui }" />
		</ui-bar-right>
	</ui-bar>

	<ui-bar if="{ filtersOpen }" css="ui-teal-lt ui-bar-shadow jc-between">
		<ui-bar-left>
			<ui-btn-icon name="pane_right_search_options_reset" mdicon="mdi mdi-refresh" css="ui-teal-lt" io="{ ui }" />
			<!-- <ui-bar-title value="Filters" /> !-->
			<ui-bar-title-stack title="Filters" subtitle="Subtitle" />
		</ui-bar-left>
		<ui-bar-right>
			<ui-btn-icon name="pane_right_search_options_close" mdicon="mdi mdi-check" css="ui-teal-lt" io="{ ui }" />
		</ui-bar-right>
	</ui-bar>
	<div class="scroll-1 ui-secondary">

		<div if="{ activeTab == 'activity'}" class="f-col ai-center jc-center" style="height:100%;overflow:hidden;">
			<h1>So active!</h1>
		</div>

		<div if="{ activeTab == 'history'}" class="f-col ai-center jc-center" style="height:100%;overflow:hidden;">
			<h1>So historic!</h1>
		</div>

		<div if="{ activeTab == 'search' && !filtersOpen }" class="f-col ai-center jc-center" style="height:100%;overflow:hidden;">
			<div class="f-col ai-center" style="opacity:0.15;">
				<i style="font-size:400%;" class="mdi mdi-magnify"></i>
				<h1>search</h1>
			</div>
		</div>
		<div if="{ activeTab == 'search' && filtersOpen }" class="ui-secondary f-col ai-center jc-center" style="height:100%;overflow:hidden;">
			<div class="f-col ai-center" style="opacity:0.15;">
				<i style="font-size:400%;" class="mdi mdi-filter-outline"></i>
				<h1>filter</h1>
			</div>
		</div>
	</div>
	<script>
		var self = this;
		activeTab = 'search';
		isPinned = false;
		filtersOpen = false;
		tabClick(e) {
			console.log("clicked");
			console.dir(e);
			self.update();
		}
		ui.on('pane_right_search_options_close:click',function() {
			filtersOpen = false;
			self.update();
		});
		ui.on('pane_right_search_options:click',function() {
			if(filtersOpen) {
				filtersOpen = false;
			} else {
				filtersOpen = true;
			}
			self.update();
		});
		ui.on('pane_right_close:click',function() {
			isPinned = false;
			var pl = document.getElementById('pane-right');
			pl.style.position = 'absolute';	
			pl.style.boxShadow = '-5px 0px 5px rgba(0,0,0,0.25)';
			panes.toggle('pane-right');
			self.update();
		});	
		ui.on('pane_right_pin:click',function() { 
			var pl = document.getElementById('pane-right');
			if(isPinned) {
				isPinned = false;
				pl.style.position = 'absolute';	
				pl.style.boxShadow = '-5px 0px 5px rgba(0,0,0,0.25)';
			} else {
				isPinned = true;
				pl.style.position = 'relative';	
				pl.style.boxShadow = 'none';
			}
			self.update();
		});	
		rightPaneTabs = [
			{ "name":"activity" },
			{ "name":"history" },
			{	"name":"search" }
		]
		ui.on('pane_right_tabs:click',function(e) {
			activeTab = e.item.name;
			self.update();
		});
	</script>
</ui-pane-right>
