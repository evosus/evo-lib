<ui-select idx="{ this.htmlselect.selectedIndex }">
	<div class="ui-select-label">
		<span>{ opts.label }</span>
	</div>
	<div class="ui-select f-row ai-center { opts.css }">
		<div if="{ opts.mdicon }" class="ui-input-icon f-col ai-center jc-center"><i class="{ opts.mdicon } fg-gray-dk"></i></div>
		<select id="htmlselect" value="{ selected }" onchange="{ change }" onfocus="{ focus }" onblur="{ blur }">
			<option each="{ opts.options }" selected="{ index == selected }">{ label }</option>
		</select>
		<i class="mdi mdi-chevron-down"></i>
		<div class="ui-select-fill"></div>
	</div>
	<div class="ui-select-message"></div>
	<script>
		var self = this;
		isOpen = false;
		this.on('mount',function() {
			// --------------------------------------
			// SET Selected Item
			// --------------------------------------
			if(!opts.selection) {
				this.htmlselect.selectedIndex = 0;
					if(opts.options[0].mdicon) { mdicon = opts.options[0].mdicon; }
					if(opts.options[0].svgclass) { mdicon = opts.options[0].svgclass; }
			} else {
				var len = opts.options.length;
				for(i = 0; i < len; i++) {
					if(opts.options[i].label == opts.selection) {
						this.htmlselect.selectedIndex = i;
						if(opts.options[i].mdicon) { mdicon = opts.options[i].mdicon; }
						if(opts.options[i].svgclass) { mdicon = opts.options[i].svgclass; }
					}
				}
			}
		});
		blur() { isFocused = false;self.update(); }
		focus() { isOpen = true;self.update(); }
		change(e) {
			isOpen = false;
			opts.io.trigger(opts.name + ':change',e);
			htmlselect.blur();
			self.update();
		}
	</script>
</ui-select>
